# MySQL Rest Service schema created.
# MySQL Rest Service, server accounts configured.
# mysqlrouter_keyring
#  * "set" root password ""
# mysqlrouter_keyring
#  * set rest-user jwt_secret "secret12345"
# Generating config into generated_router_1.cnf
#  * https
#  * MySQL Rest Service
# Connection "router.1" active
# restart:generated_router_1.cnf
# DB `pk_types_schema` - created


## I. Verify JSON encoding of different times of data, returned in FEED response
#
# 1. Verify generation of JSON boolean from bit and bit(1)
# 2. Verify generation of JSON string with base64 data from bit(10) and binary
# 3. Verify generation of JSON string from VARCHAR(X), SET, ENUM
# 4. Verify generation of JSON string with date from DATE, TIME, YEAR, DATETIME,TIMESTAMP
# 5. Verify generation of JSON number/float from FLOAT, DOUBLE, DECIMAL
# 6. Verify generation of JSON number from INTEGER, BIGINT, SMALLINT, TINYINT, MEDIUMINT
#
#
# Registred SERVICE at path: /svc
# Registred DB_SCHEMA at path: /svc/pk
# Registred DB_OBJECT at path: /svc/pk/int
# Registred DB_OBJECT at path: /svc/pk/tinyint
# Registred DB_OBJECT at path: /svc/pk/smallint
# Registred DB_OBJECT at path: /svc/pk/mediumint
# Registred DB_OBJECT at path: /svc/pk/bigint
# Registred DB_OBJECT at path: /svc/pk/decimal
# Registred DB_OBJECT at path: /svc/pk/float
# Registred DB_OBJECT at path: /svc/pk/double
# Registred DB_OBJECT at path: /svc/pk/bit
# Registred DB_OBJECT at path: /svc/pk/bit1
# Registred DB_OBJECT at path: /svc/pk/bit8
# Registred DB_OBJECT at path: /svc/pk/bin
# Registred DB_OBJECT at path: /svc/pk/varchar20
# Registred DB_OBJECT at path: /svc/pk/enum
# Registred DB_OBJECT at path: /svc/pk/set
# Registred DB_OBJECT at path: /svc/pk/datetime
# Registred DB_OBJECT at path: /svc/pk/timestamp
# Registred DB_OBJECT at path: /svc/pk/date
# Registred DB_OBJECT at path: /svc/pk/time
# Registred DB_OBJECT at path: /svc/pk/year

#
# I.1
GET /svc/pk/bit/0
{
    "id": false,
    "links": [
        {
            "href": "/svc/pk/bit/0"
        }
    ],
    "_metadata": {
        "etag": "C1EF6D6C3E336FAFF8E3B66B7E4B3702E0E9BC594B7AD587CAC7FC4AF295B65A"
    }
}
OK
GET /svc/pk/bit/1
{
    "id": true,
    "links": [
        {
            "href": "/svc/pk/bit/1"
        }
    ],
    "_metadata": {
        "etag": "1A6EE0579A7A2752C1AE7885F16113BFF026460B475355604EED4269E5E42E8D"
    }
}
OK
GET /svc/pk/bit/0
{
    "id": false,
    "links": [
        {
            "href": "/svc/pk/bit/0"
        }
    ],
    "_metadata": {
        "etag": "C1EF6D6C3E336FAFF8E3B66B7E4B3702E0E9BC594B7AD587CAC7FC4AF295B65A"
    }
}
OK
GET /svc/pk/bit1/1
{
    "id": true,
    "links": [
        {
            "href": "/svc/pk/bit1/1"
        }
    ],
    "_metadata": {
        "etag": "1A6EE0579A7A2752C1AE7885F16113BFF026460B475355604EED4269E5E42E8D"
    }
}
OK
GET /svc/pk/bit1/true
{
    "id": true,
    "links": [
        {
            "href": "/svc/pk/bit1/1"
        }
    ],
    "_metadata": {
        "etag": "1A6EE0579A7A2752C1AE7885F16113BFF026460B475355604EED4269E5E42E8D"
    }
}
OK
GET /svc/pk/bit1/True
{
    "id": true,
    "links": [
        {
            "href": "/svc/pk/bit1/1"
        }
    ],
    "_metadata": {
        "etag": "1A6EE0579A7A2752C1AE7885F16113BFF026460B475355604EED4269E5E42E8D"
    }
}
OK
GET /svc/pk/bit1/false
{
    "id": false,
    "links": [
        {
            "href": "/svc/pk/bit1/0"
        }
    ],
    "_metadata": {
        "etag": "C1EF6D6C3E336FAFF8E3B66B7E4B3702E0E9BC594B7AD587CAC7FC4AF295B65A"
    }
}
OK

#
# I.2
GET /svc/pk/bit8/AA==
{
    "id": "AA==",
    "links": [
        {
            "href": "/svc/pk/bit8/AA=="
        }
    ],
    "_metadata": {
        "etag": "3728D282EB9D39385404EBEAFBD6E2D478351080F641EF5F77AC3B0FDA7D5C16"
    }
}
OK
GET /svc/pk/bit8/AQ==
{
    "id": "AQ==",
    "links": [
        {
            "href": "/svc/pk/bit8/AQ=="
        }
    ],
    "_metadata": {
        "etag": "DBB79B20C57C75F530E86E14A75298DE222417AB5404293A88EF65E70CB83351"
    }
}
OK
GET /svc/pk/bin/AAAA
{
    "id": "AAAA",
    "links": [
        {
            "href": "/svc/pk/bin/AAAA"
        }
    ],
    "_metadata": {
        "etag": "A1ECB2DEFF337AF17F7833744731F17AEEEDB27556D4C64ABAC1EE8C5C255699"
    }
}
OK
GET /svc/pk/bin/BwAA
{
    "id": "BwAA",
    "links": [
        {
            "href": "/svc/pk/bin/BwAA"
        }
    ],
    "_metadata": {
        "etag": "1E1CC8AF4924C21B52126EFF08FE7E65BA87F2F357434537B1CE100B5FBFED11"
    }
}
OK

#
# I.3
GET /svc/pk/set/value1
{
    "id": "value1",
    "links": [
        {
            "href": "/svc/pk/set/value1"
        }
    ],
    "_metadata": {
        "etag": "F5C1062B28300B51590FCA3B4F96BFBDA0D9592FDA11BFFEE10E6C1B670EAD61"
    }
}
OK
GET /svc/pk/set/value1,value2,value3
{
    "id": "value1,value2,value3",
    "links": [
        {
            "href": "/svc/pk/set/value1,value2,value3"
        }
    ],
    "_metadata": {
        "etag": "BFD13993C4B8C045F7A1D4FB4AC319DC1C151A47F84F23B94E64B4750812E151"
    }
}
OK
GET /svc/pk/enum/value1
{
    "id": "value1",
    "links": [
        {
            "href": "/svc/pk/enum/value1"
        }
    ],
    "_metadata": {
        "etag": "F5C1062B28300B51590FCA3B4F96BFBDA0D9592FDA11BFFEE10E6C1B670EAD61"
    }
}
OK
GET /svc/pk/enum/value3
{
    "id": "value3",
    "links": [
        {
            "href": "/svc/pk/enum/value3"
        }
    ],
    "_metadata": {
        "etag": "69407C5301BD5E28F24879FB7C92B6496A0113135448EC16371C30C89044D6AD"
    }
}
OK
GET /svc/pk/varchar20/123456
{
    "id": "123456",
    "links": [
        {
            "href": "/svc/pk/varchar20/123456"
        }
    ],
    "_metadata": {
        "etag": "723EA299BAE600C45C947090F00A881076794E75F5FF18CC4AE794A6091CC0CA"
    }
}
OK

#
# I.4
GET /svc/pk/date/2020-12-01
{
    "id": "2020-12-01",
    "links": [
        {
            "href": "/svc/pk/date/2020-12-01"
        }
    ],
    "_metadata": {
        "etag": "7F211A6BAEBD97B2613DC66ADF0906BDFB8AB6BDC980E45F6D2509B376F7C44A"
    }
}
OK
GET /svc/pk/date/2020-12-03
{
    "id": "2020-12-03",
    "links": [
        {
            "href": "/svc/pk/date/2020-12-03"
        }
    ],
    "_metadata": {
        "etag": "6A80CF0A40AC092AEC17D5DAA8D54AC93251E9BE2C69233D73CA8BE9918F2ED4"
    }
}
OK
GET /svc/pk/time/12:01:50
{
    "id": "12:01:50.000000",
    "links": [
        {
            "href": "/svc/pk/time/12:01:50"
        }
    ],
    "_metadata": {
        "etag": "5B2FF0CD9C9649A8763A50881B71178A5EA0B1EA5EF3E34428B7CE1C1A29425F"
    }
}
OK
GET /svc/pk/time/12:01:51
{
    "id": "12:01:51.000000",
    "links": [
        {
            "href": "/svc/pk/time/12:01:51"
        }
    ],
    "_metadata": {
        "etag": "0B3C9159BB648353007CC41665640DB9913FD4D97C1C911308F1E1C41AE62777"
    }
}
OK
GET /svc/pk/time/12:01:51.0000
{
    "id": "12:01:51.000000",
    "links": [
        {
            "href": "/svc/pk/time/12:01:51.0000"
        }
    ],
    "_metadata": {
        "etag": "0B3C9159BB648353007CC41665640DB9913FD4D97C1C911308F1E1C41AE62777"
    }
}
OK
GET /svc/pk/year/2020
{
    "id": 2020,
    "links": [
        {
            "href": "/svc/pk/year/2020"
        }
    ],
    "_metadata": {
        "etag": "89014144C1E4ACCA1759897C4C3933B3A98421D00352F7E74A0BC0158445EB5C"
    }
}
OK
GET /svc/pk/year/2022
{
    "id": 2022,
    "links": [
        {
            "href": "/svc/pk/year/2022"
        }
    ],
    "_metadata": {
        "etag": "C3A2FC1B6D414B3D8776EA79FAB94E63800F6A61DBB7CA901EB0233853899B34"
    }
}
OK
GET /svc/pk/datetime/2020-12-01 12:01:50.000000
{
    "id": "2020-12-01 12:01:50.000000",
    "links": [
        {
            "href": "/svc/pk/datetime/2020-12-01 12:01:50.000000"
        }
    ],
    "_metadata": {
        "etag": "81C63339A2B8BE4CC4284A9790B74D46194ADB454AE3D49DECD9FD6DF14878D9"
    }
}
OK
GET /svc/pk/datetime/2020-12-01 12:01:50
{
    "id": "2020-12-01 12:01:50.000000",
    "links": [
        {
            "href": "/svc/pk/datetime/2020-12-01 12:01:50"
        }
    ],
    "_metadata": {
        "etag": "81C63339A2B8BE4CC4284A9790B74D46194ADB454AE3D49DECD9FD6DF14878D9"
    }
}
OK
GET /svc/pk/datetime/2020-12-02 12:01:50
{
    "id": "2020-12-02 12:01:50.000000",
    "links": [
        {
            "href": "/svc/pk/datetime/2020-12-02 12:01:50"
        }
    ],
    "_metadata": {
        "etag": "D9E6B019F5A44C82A950C278D118CEAFE001AC5C712FAC87C7FE465E3E1FE9B5"
    }
}
OK
GET /svc/pk/timestamp/2020-12-02 12:01:50.000000
{
    "id": "2020-12-02 12:01:50.000000",
    "links": [
        {
            "href": "/svc/pk/timestamp/2020-12-02 12:01:50.000000"
        }
    ],
    "_metadata": {
        "etag": "D9E6B019F5A44C82A950C278D118CEAFE001AC5C712FAC87C7FE465E3E1FE9B5"
    }
}
OK
GET /svc/pk/timestamp/2020-12-03 12:01:50
{
    "id": "2020-12-03 12:01:50.000000",
    "links": [
        {
            "href": "/svc/pk/timestamp/2020-12-03 12:01:50"
        }
    ],
    "_metadata": {
        "etag": "94549B6CE242DE36C9A3DD87B00494413A8BC86AB86C2013BB03FEB317940B07"
    }
}
OK

#
# I.5
GET /svc/pk/float/0
{
    "id": 0.0,
    "links": [
        {
            "href": "/svc/pk/float/0"
        }
    ],
    "_metadata": {
        "etag": "3EF02682A07103CF1069ADD4534DE21B0D846914A4F7774EC2C6FB1E688E7245"
    }
}
OK
GET /svc/pk/double/-999.9999
{
    "id": -999.9999,
    "links": [
        {
            "href": "/svc/pk/double/-999.9999"
        }
    ],
    "_metadata": {
        "etag": "911BB045DB4CA58A66AE41E511C8C89F604667D651854F11103173B0FBBD3BC3"
    }
}
OK
GET /svc/pk/decimal/-999.99
{
    "id": -999.99,
    "links": [
        {
            "href": "/svc/pk/decimal/-999.99"
        }
    ],
    "_metadata": {
        "etag": "B380EDDBC96A68595F1A570FB7BD824EF9C57542B2A611FBE0BB802A99E5415A"
    }
}
OK

#
# I.6
GET /svc/pk/int/-2147483648
{
    "id": -2147483648,
    "links": [
        {
            "href": "/svc/pk/int/-2147483648"
        }
    ],
    "_metadata": {
        "etag": "7E237BD77D4850E1C27681DE8ED2EA7E8C83A3369F83E37BEC035EB85BB6EEB7"
    }
}
OK
GET /svc/pk/int/0
{
    "id": 0,
    "links": [
        {
            "href": "/svc/pk/int/0"
        }
    ],
    "_metadata": {
        "etag": "5C2132A6D3F9AB1FB69395820FE891AC325D6CD623672C2871E2CF31B435EA1D"
    }
}
OK
GET /svc/pk/int/2147483647
{
    "id": 2147483647,
    "links": [
        {
            "href": "/svc/pk/int/2147483647"
        }
    ],
    "_metadata": {
        "etag": "07B09561453DFFE744DC8CEA40A56B2F7A7EB0E3CEBD4CF1EA93DACBEB83F061"
    }
}
OK
GET /svc/pk/smallint/-32768
{
    "id": -32768,
    "links": [
        {
            "href": "/svc/pk/smallint/-32768"
        }
    ],
    "_metadata": {
        "etag": "7DE175A2CDEE3CBA1F8059C2102F9CF8432F7A3C6FB8BF0A47256231160AB574"
    }
}
OK
GET /svc/pk/smallint/0
{
    "id": 0,
    "links": [
        {
            "href": "/svc/pk/smallint/0"
        }
    ],
    "_metadata": {
        "etag": "5C2132A6D3F9AB1FB69395820FE891AC325D6CD623672C2871E2CF31B435EA1D"
    }
}
OK
GET /svc/pk/smallint/32767
{
    "id": 32767,
    "links": [
        {
            "href": "/svc/pk/smallint/32767"
        }
    ],
    "_metadata": {
        "etag": "15BAC7ED8AA077A883AF1079468FCB1FB99DB80D7912EA1E307D3E152888F96D"
    }
}
OK
GET /svc/pk/tinyint/-128
{
    "id": -128,
    "links": [
        {
            "href": "/svc/pk/tinyint/-128"
        }
    ],
    "_metadata": {
        "etag": "32C89766E2340F55A7FC3827225D25329A0ED8174BD45C4152D2ED845F35B5E7"
    }
}
OK
GET /svc/pk/tinyint/0
{
    "id": 0,
    "links": [
        {
            "href": "/svc/pk/tinyint/0"
        }
    ],
    "_metadata": {
        "etag": "5C2132A6D3F9AB1FB69395820FE891AC325D6CD623672C2871E2CF31B435EA1D"
    }
}
OK
GET /svc/pk/tinyint/127
{
    "id": 127,
    "links": [
        {
            "href": "/svc/pk/tinyint/127"
        }
    ],
    "_metadata": {
        "etag": "8B46A1ED89F97C08F0771C009BE814A9F7C06E9CD79282F4E26D50DD61CC4B9A"
    }
}
OK
GET /svc/pk/mediumint/-8388608
{
    "id": -8388608,
    "links": [
        {
            "href": "/svc/pk/mediumint/-8388608"
        }
    ],
    "_metadata": {
        "etag": "AB674736BF68568B45DD1442EDB7436A1E03966C8DB7ACD6A1DC7C74D1F4F8DE"
    }
}
OK
GET /svc/pk/mediumint/0
{
    "id": 0,
    "links": [
        {
            "href": "/svc/pk/mediumint/0"
        }
    ],
    "_metadata": {
        "etag": "5C2132A6D3F9AB1FB69395820FE891AC325D6CD623672C2871E2CF31B435EA1D"
    }
}
OK
GET /svc/pk/mediumint/8388607
{
    "id": 8388607,
    "links": [
        {
            "href": "/svc/pk/mediumint/8388607"
        }
    ],
    "_metadata": {
        "etag": "1A0120C97DCC61E9CA972670A65933012234E48FB12E15584C2E347EE63FD6EE"
    }
}
OK
DROP SCHEMA pk_types_schema;
DROP SCHEMA mysql_rest_service_metadata;
DROP ROLE mysql_rest_service_admin;
DROP ROLE mysql_rest_service_schema_admin;
DROP ROLE mysql_rest_service_meta_provider;
DROP ROLE mysql_rest_service_data_provider;
