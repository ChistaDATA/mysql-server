# MySQL Rest Service schema created.
# MySQL Rest Service, server accounts configured.
# mysqlrouter_keyring
#  * "set" root password ""
# mysqlrouter_keyring
#  * set rest-user jwt_secret "secret12345"
# Generating config into generated_router_1.cnf
#  * https
#  * MySQL Rest Service
# Connection "router.1" active
# restart:generated_router_1.cnf
# DB `basic_schema` - created 
# Registred SERVICE at path: /svc
# Registred DB_SCHEMA at path: /svc/basic
# Registred DB_OBJECT at path: /svc/basic/t2
UPDATE `mysql_rest_service_metadata`.`object_field` SET enabled=(name="id" or name="cenum" or name="ctext");
# Registred DB_OBJECT at path: /svc/basic/t1
GET /svc/basic/t1/1
{
    "id": 1,
    "cbin": "MAAA",
    "cbit": false,
    "cset": "",
    "cbit1": false,
    "cblob": "",
    "cdate": "2020-12-01",
    "cenum": "value1",
    "ctext": "numeric zeros",
    "ctime": "12:01:50.000000",
    "cyear": 2020,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t1/1"
        }
    ],
    "cbit10": "AAA=",
    "cfloat": 0.0,
    "cbigint": 0,
    "cdouble": 0.0,
    "cdecimal": 0.0,
    "ctinyint": 0,
    "cvarchar": "first row",
    "cdatetime": "2020-12-01 12:01:50.000000",
    "csmallint": 0,
    "cmediumint": 0,
    "ctimestamp": "2020-12-01 12:01:50.000000",
    "_metadata": {
        "etag": "BC4382193E6D306487C3D96350CE5FB19C1A5BC2B620935F1F7453C269C1B266"
    }
}
OK
GET /svc/basic/t1/1?f=id,cyear
{
    "id": 1,
    "cyear": 2020,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t1/1"
        }
    ],
    "_metadata": {
        "etag": "FAC3FFAB74A77AD966D66DBF27DA17DED92751A65F6B8C8EE38043FEFFDB6180"
    }
}
OK
GET /svc/basic/t1/3?f=!cbin,!cset,!cenum,!ctext,!ctime,!cdate,!cfloat,!cdouble,!cdatetime,!ctimestamp
{
    "id": 3,
    "cbit": true,
    "cbit1": true,
    "cblob": "ABGrAAASIzM=",
    "cyear": 2022,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t1/3"
        }
    ],
    "cbit10": "A/8=",
    "cbigint": 9223372036854775807,
    "cdecimal": 999.99,
    "ctinyint": 127,
    "cvarchar": "thrid row",
    "csmallint": 32767,
    "cmediumint": 8388607,
    "_metadata": {
        "etag": "1CE35455E1EECD597F99A8C382E8DACCDB10F51CFD9F18D4FCD7559C20E7D13B"
    }
}
OK
GET /svc/basic/t2/1
{
    "id": 1,
    "cenum": "value1",
    "ctext": "numeric zeros",
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t2/1"
        }
    ],
    "_metadata": {
        "etag": "CE75937630A7BFCB5B94496FACA8D2B98E51DE91DFAD238D63E24B7287FED331"
    }
}
OK
GET /svc/basic/t2/1?f=id,cyear
{
    "id": 1,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t2/1"
        }
    ],
    "_metadata": {
        "etag": "763AF95BE227B2068D8C387FB7A37003FF458C00373FFFE4AED008BD798378C6"
    }
}
OK
GET /svc/basic/t2/3?f=!cbin,!cset,!cenum,!ctext,!ctime,!cdate,!cfloat,!cdouble,!cdatetime,!ctimestamp
{
    "id": 3,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t2/3"
        }
    ],
    "_metadata": {
        "etag": "70485AB68EBA16518FB4F096C3BF72294B095BD75C99266928162A3F62D89B32"
    }
}
OK
DROP SCHEMA basic_schema;
DROP SCHEMA mysql_rest_service_metadata;
DROP ROLE mysql_rest_service_admin;
DROP ROLE mysql_rest_service_schema_admin;
DROP ROLE mysql_rest_service_meta_provider;
DROP ROLE mysql_rest_service_data_provider;
