# MySQL Rest Service schema created.
# MySQL Rest Service, server accounts configured.
# mysqlrouter_keyring
#  * "set" root password ""
# mysqlrouter_keyring
#  * set rest-user jwt_secret "secret12345"
# Generating config into generated_router_1.cnf
#  * https
#  * MySQL Rest Service
# Connection "router.1" active
# restart:generated_router_1.cnf
# DB `basic_schema` - created 
# Registred SERVICE at path: /svc
# Registred DB_SCHEMA at path: /svc/basic
# Registred DB_OBJECT at path: /svc/basic/t2
UPDATE `mysql_rest_service_metadata`.`object_field` SET enabled=(name="id" or name="cenum" or name="ctext");
# Registred DB_OBJECT at path: /svc/basic/t1
GET /svc/basic/t1/1
{
    "id": 1,
    "cbin": "MAAA",
    "cbit": false,
    "cset": "",
    "cbit1": false,
    "cblob": "",
    "cdate": "2020-12-01",
    "cenum": "value1",
    "ctext": "numeric zeros",
    "ctime": "12:01:50.000000",
    "cyear": 2020,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t1/1"
        }
    ],
    "cbit10": "AAA=",
    "cfloat": 0.0,
    "cbigint": 0,
    "cdouble": 0.0,
    "cdecimal": 0.0,
    "ctinyint": 0,
    "cvarchar": "first row",
    "cdatetime": "2020-12-01 12:01:50.000000",
    "csmallint": 0,
    "cmediumint": 0,
    "ctimestamp": "2020-12-01 12:01:50.000000",
    "_metadata": {
        "etag": "B0C1E8F0E2A47D4F2D7C3ADC6822B9F378678C06C78C34F1781A308ED764F595"
    }
}
OK
GET /svc/basic/t1/1?f=id,cyear
{
    "id": 1,
    "cyear": 2020,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t1/1"
        }
    ],
    "_metadata": {
        "etag": "B70262D56201CE095CA72BFEB76B85D799D881962E96FB08B5A0E33DFA99CC41"
    }
}
OK
GET /svc/basic/t1/3?f=!cbin,!cset,!cenum,!ctext,!ctime,!cdate,!cfloat,!cdouble,!cdatetime,!ctimestamp
{
    "id": 3,
    "cbit": true,
    "cbit1": true,
    "cblob": "ABGrAAASIzM=",
    "cyear": 2022,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t1/3"
        }
    ],
    "cbit10": "A/8=",
    "cbigint": 9223372036854775807,
    "cdecimal": 999.99,
    "ctinyint": 127,
    "cvarchar": "thrid row",
    "csmallint": 32767,
    "cmediumint": 8388607,
    "_metadata": {
        "etag": "68D43F7BA2A01DF4E697B6FF1A5F690101D8022956BF7DCF30C57D743A0DF54B"
    }
}
OK
GET /svc/basic/t2/1
{
    "id": 1,
    "cenum": "value1",
    "ctext": "numeric zeros",
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t2/1"
        }
    ],
    "_metadata": {
        "etag": "E531A26F13E20DBB592B7BA138228FA5D645F9B9BB5FD82E649F7616E64A5831"
    }
}
OK
GET /svc/basic/t2/1?f=id,cyear
{
    "id": 1,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t2/1"
        }
    ],
    "_metadata": {
        "etag": "D6132AC057950FB3305B3B1DB876B6B31B92F837E93F57CE3734B6A935FDA9E7"
    }
}
OK
GET /svc/basic/t2/3?f=!cbin,!cset,!cenum,!ctext,!ctime,!cdate,!cfloat,!cdouble,!cdatetime,!ctimestamp
{
    "id": 3,
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t2/3"
        }
    ],
    "_metadata": {
        "etag": "4458D0E71E164F87079CE06D19FEEEAACCDA6D4782964D86DD1A0DAD433A6698"
    }
}
OK
DROP SCHEMA basic_schema;
DROP SCHEMA mysql_rest_service_metadata;
DROP ROLE mysql_rest_service_admin;
DROP ROLE mysql_rest_service_schema_admin;
DROP ROLE mysql_rest_service_meta_provider;
DROP ROLE mysql_rest_service_data_provider;
