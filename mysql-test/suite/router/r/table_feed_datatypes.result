# MySQL Rest Service schema created.
# MySQL Rest Service, server accounts configured.
# mysqlrouter_keyring
#  * "set" root password ""
# mysqlrouter_keyring
#  * set rest-user jwt_secret "secret12345"
# Generating config into generated_router_1.cnf
#  * https
#  * MySQL Rest Service
# Connection "router.1" active
# restart:generated_router_1.cnf
# DB `basic_schema` - created 


## I. Verify JSON encoding of different times of data, returned in FEED response
#
# 1. Verify generation of JSON boolean from bit and bit(1)
# 2. Verify generation of JSON string with base64 data from bit(10) and binary, BLOB
# 3. Verify generation of JSON string from TEXT, VARCHAR(X), SET, ENUM
# 4. Verify generation of JSON string with date from DATE, TIME, YEAR, DATETIME,TIMESTAMP
# 5. Verify generation of JSON number/float from FLOAT, DOUBLE, DECIMAL
# 6. Verify generation of JSON number from INTEGER, BIGINT, SMALLINT, TINYINT, MEDIUMINT
#
#
# Registred SERVICE at path: /svc
# Registred DB_SCHEMA at path: /svc/basic
# Registred DB_OBJECT at path: /svc/basic/t3

#
# I.1
GET /svc/basic/t3?f=cbit
{
    "items": [
        {
            "cbit": false,
            "_metadata": {
                "etag": "F2547D9575085D30812C01C87A8A6E64529137370C238295BFCED3D545FF599A"
            }
        },
        {
            "cbit": false,
            "_metadata": {
                "etag": "F2547D9575085D30812C01C87A8A6E64529137370C238295BFCED3D545FF599A"
            }
        },
        {
            "cbit": true,
            "_metadata": {
                "etag": "ACAA4AC5036FD96669312BC77EBB331CE7D75D6114C26EC2D46578F62A83C581"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cbit1
{
    "items": [
        {
            "cbit1": false,
            "_metadata": {
                "etag": "7E50E438BA5016D192B768F400D8A89F17177A9F190385288CEC911E2B1EA443"
            }
        },
        {
            "cbit1": false,
            "_metadata": {
                "etag": "7E50E438BA5016D192B768F400D8A89F17177A9F190385288CEC911E2B1EA443"
            }
        },
        {
            "cbit1": true,
            "_metadata": {
                "etag": "6B9BE83DD13C22C81DA2E2D2335E66E3023EF75B5D653B1757E4F0FA256BEAE9"
            }
        }
    ]
}
OK

#
# I.2
GET /svc/basic/t3?f=cbit10
{
    "items": [
        {
            "cbit10": "AAA=",
            "_metadata": {
                "etag": "472E4CA0788F2B1091508D04719EF5D6FA8AC9ED22B4CEE9ECEB0C02045E8957"
            }
        },
        {
            "cbit10": "AAA=",
            "_metadata": {
                "etag": "472E4CA0788F2B1091508D04719EF5D6FA8AC9ED22B4CEE9ECEB0C02045E8957"
            }
        },
        {
            "cbit10": "A/8=",
            "_metadata": {
                "etag": "765B3FAF724885DFB5ABD87F1E2C6B543C49503C4ABE4520C85B8660DC6C4FED"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cbin
{
    "items": [
        {
            "cbin": "MAAA",
            "_metadata": {
                "etag": "C25E3E5E6EBBA7AF3B6AE319CDC7A6DEAEFC40243E0E942B67C9629026E440C0"
            }
        },
        {
            "cbin": "MAAA",
            "_metadata": {
                "etag": "C25E3E5E6EBBA7AF3B6AE319CDC7A6DEAEFC40243E0E942B67C9629026E440C0"
            }
        },
        {
            "cbin": "BwAA",
            "_metadata": {
                "etag": "092E8C057307C06D47481AB8843157B683DEA593C51B85ABD7DF413B6AF84A9A"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cblob
{
    "items": [
        {
            "cblob": "",
            "_metadata": {
                "etag": "8BAA66707F87CBD8C3FEDD66597AA66CD6BD1A0E4942D2EBB8584B49184FAD4A"
            }
        },
        {
            "cblob": "MQ==",
            "_metadata": {
                "etag": "3698EC951FD834EDA738F19162D2F81D7D2BB09274FB17A3BA45DB997B0CB3FD"
            }
        },
        {
            "cblob": "ABGrAAASIzM=",
            "_metadata": {
                "etag": "D776B8DE5FA44B23BA22DB8EDB50DABB8A5E6B38C989D7280F25722D4CEF8918"
            }
        }
    ]
}
OK

#
# I.3
GET /svc/basic/t3?f=cset
{
    "items": [
        {
            "cset": "",
            "_metadata": {
                "etag": "BD1D0BFF7E843A0015435A86272D6BE49E8F162F6D55A857A2537B06E912EB6C"
            }
        },
        {
            "cset": "value1",
            "_metadata": {
                "etag": "5674D168D4A83058ACBEE04C59D480FEAC204D3EC8E2522F7EF1D180A3514A34"
            }
        },
        {
            "cset": "value1,value2,value3",
            "_metadata": {
                "etag": "5251ED4D7ECDEF8470896B10ACC1CC7EFF823C4A77775A71736D0654959B55EE"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cenum
{
    "items": [
        {
            "cenum": "value1",
            "_metadata": {
                "etag": "BB47A0616A018864757F7C19CE2CCC35CE7786E3A9FEB4EE56CF1780DE4E7541"
            }
        },
        {
            "cenum": "value1",
            "_metadata": {
                "etag": "BB47A0616A018864757F7C19CE2CCC35CE7786E3A9FEB4EE56CF1780DE4E7541"
            }
        },
        {
            "cenum": "value3",
            "_metadata": {
                "etag": "BCDC9039DD22E39C8E607E1109B70A981DB60296394EAD8F5316421B2EAF19AF"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cvarchar
{
    "items": [
        {
            "cvarchar": "first row",
            "_metadata": {
                "etag": "320477736F3A64E8153099133F78F6050DD4933A1FC5649DB6FB98F29D9E166B"
            }
        },
        {
            "cvarchar": "second row",
            "_metadata": {
                "etag": "84BB75BDA03DAFC656D50BAB6E14212BF10DDDB678326C5BA44C77138CB79DC0"
            }
        },
        {
            "cvarchar": "thrid row",
            "_metadata": {
                "etag": "33B6636D0A08C45AF81EDFF34D227EFC83B425AC84F9BAA4B9FC5772CA14A745"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=ctext
{
    "items": [
        {
            "ctext": "numeric zeros",
            "_metadata": {
                "etag": "EF0C9C03F0C82D59CE66C8C575E2646917E83D078AB1AE1CBBFCC1EC6620F804"
            }
        },
        {
            "ctext": "numeric min",
            "_metadata": {
                "etag": "E5D42E491DAE0E92871F7CAD0675F6E34F4A23871C25D345990A063AC5B8F3BC"
            }
        },
        {
            "ctext": "numeric max",
            "_metadata": {
                "etag": "01E23B39BD5A74D3B3AC215F114B2085069E91C1E76BB0D6E009DA592C240FF9"
            }
        }
    ]
}
OK

#
# I.4
GET /svc/basic/t3?f=cdate
{
    "items": [
        {
            "cdate": "2020-12-01",
            "_metadata": {
                "etag": "58D32ED4233D91A6DAB3E54F23ED4817BC1F96C2407D05F3EE69096F4C331435"
            }
        },
        {
            "cdate": "2020-12-02",
            "_metadata": {
                "etag": "D3CA5F13B35307ABB1992E2CB0FBC0083DCC7678DB82DEED75B4AA2FE28E147A"
            }
        },
        {
            "cdate": "2020-12-03",
            "_metadata": {
                "etag": "6BF30A0D173163CB8C14CAD8CA5CCD6E7E71D51C5A2F56AE0E4AA68B0590F507"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=ctime
{
    "items": [
        {
            "ctime": "12:01:50.000000",
            "_metadata": {
                "etag": "BE0CC36438809A6CDD69A66FA01942BAB0DD2882073322E5C7048BE3A9440412"
            }
        },
        {
            "ctime": "12:02:50.000000",
            "_metadata": {
                "etag": "CC986FEE62F6B4650F21BBBCA006D8E4F2B1D9B2C3E4C42A75A2EAA58C799C44"
            }
        },
        {
            "ctime": "12:03:50.000000",
            "_metadata": {
                "etag": "63D95B2D788572B458EA3AA5D44B3261D0BF9D5793856A89351944FF874A0DC8"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cyear
{
    "items": [
        {
            "cyear": 2020,
            "_metadata": {
                "etag": "75AE1B502990045E4ACDAC17AEB0D936192232914471AE84E0F60537D9ADA80C"
            }
        },
        {
            "cyear": 2021,
            "_metadata": {
                "etag": "8AC578AE1A2091EC4DA4FB799C4EADCE8C5970B120A48835E824EC02B86CA7D5"
            }
        },
        {
            "cyear": 2022,
            "_metadata": {
                "etag": "DC6178270FFD1212920CD9AE236CBB53FFA1BAC3AC913232DC9F2AD107BD28B0"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cdatetime
{
    "items": [
        {
            "cdatetime": "2020-12-01 12:01:50.000000",
            "_metadata": {
                "etag": "2A8C36CBC199CDD7EC6966F643C751B2D217B0979DBDF2971174B4A113EB5387"
            }
        },
        {
            "cdatetime": "2020-12-02 12:02:50.000000",
            "_metadata": {
                "etag": "BE2085511513A1A6217A84552BC8406952671D6B7586617D2AB735AF60483659"
            }
        },
        {
            "cdatetime": "2020-12-03 12:03:50.000000",
            "_metadata": {
                "etag": "AF02AAA4DFD1A1A4ABBB05E723D0A733724BCBA79D800FB036351D5AF97F7E70"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=ctimestamp
{
    "items": [
        {
            "ctimestamp": "2020-12-01 12:01:50.000000",
            "_metadata": {
                "etag": "52D66386C831853B99F1B5E1C027B4E8B1D4FE771A7883BF9DB4E3BB2762DB21"
            }
        },
        {
            "ctimestamp": "2020-12-02 12:02:50.000000",
            "_metadata": {
                "etag": "AA01D3EC4813E47D209DE5D2D756299B09E623BBDFFBA7CE12594F0E9EE39F11"
            }
        },
        {
            "ctimestamp": "2020-12-03 12:03:50.000000",
            "_metadata": {
                "etag": "C283209A4E7802009E292B1DC863083C75E4B816B44503D57DD24F9B83C7D6B5"
            }
        }
    ]
}
OK

#
# I.5
GET /svc/basic/t3?f=cfloat
{
    "items": [
        {
            "cfloat": 0.0,
            "_metadata": {
                "etag": "B7B02C67BC7086D85EFE4A8B5D397786A7BD0D1AEE204892E5905B7DDC493223"
            }
        },
        {
            "cfloat": -999.9998779296876,
            "_metadata": {
                "etag": "2359816D695640CC33AE61494323C9C7C0831BA58B0A07C059DC43F542FED196"
            }
        },
        {
            "cfloat": 999.9998779296876,
            "_metadata": {
                "etag": "5A9CB07CEAE04DA60D83FD64BB62E5DFB4980AD1673E4B18B9F0BABDCB60835A"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cdouble
{
    "items": [
        {
            "cdouble": 0.0,
            "_metadata": {
                "etag": "9A91526BB2C3BE8D0D49F03830049EA4D5BF89ECBE7B20013B7BEC1FA9E8B494"
            }
        },
        {
            "cdouble": -999.9999,
            "_metadata": {
                "etag": "7BA292A1A5DAD860C1698F2E31C4A6AA26C545677AF93CACF2BC5DBB19FEB649"
            }
        },
        {
            "cdouble": 999.9999,
            "_metadata": {
                "etag": "AD84CC8F9F63A23049EF21AA1EE2478CB85ABD05016E6C6D6AFAF4AB36B8E4DF"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cdecimal
{
    "items": [
        {
            "cdecimal": 0.0,
            "_metadata": {
                "etag": "0BD762A6BF236A9AE6CBF825EC878F110AD8075017A02090F1B9D0516255D85F"
            }
        },
        {
            "cdecimal": -999.99,
            "_metadata": {
                "etag": "9150147356AE22D1732109F37C7F90126D1E01E73F10E2D2262B55FE4C1F596C"
            }
        },
        {
            "cdecimal": 999.99,
            "_metadata": {
                "etag": "2767BAA265EDA598B9205151389D2CE7496667CC23B6E89BD5B2080FB4EB9737"
            }
        }
    ]
}
OK

#
# I.6
GET /svc/basic/t3?f=id
{
    "items": [
        {
            "id": 1,
            "_metadata": {
                "etag": "D6132AC057950FB3305B3B1DB876B6B31B92F837E93F57CE3734B6A935FDA9E7"
            }
        },
        {
            "id": 2,
            "_metadata": {
                "etag": "75B48E1124BD91D233AE2C14EA0587A4F9A95CB46C123FD95D06BFC006B088FD"
            }
        },
        {
            "id": 3,
            "_metadata": {
                "etag": "4458D0E71E164F87079CE06D19FEEEAACCDA6D4782964D86DD1A0DAD433A6698"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cbigint
{
    "items": [
        {
            "cbigint": 0,
            "_metadata": {
                "etag": "EDAB04E51B16FAD457C1D948DE0F19FB2FA713E173E69BF51578E3B53DABCD9F"
            }
        },
        {
            "cbigint": -9223372036854775808,
            "_metadata": {
                "etag": "186924E0A602A48C7F9920F6E3BA08892764A6629AF9A109E98A42FB61B11716"
            }
        },
        {
            "cbigint": 9223372036854775807,
            "_metadata": {
                "etag": "B8EC86080C42585375E725211F5FEF329C221F62C6455F5ECE1DD6484BA59A56"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=csmallint
{
    "items": [
        {
            "csmallint": 0,
            "_metadata": {
                "etag": "AC18280C7BA55757E1EB6DDBBAF55B0A503A36FC4E0757C6F516FF68B33705CE"
            }
        },
        {
            "csmallint": -32768,
            "_metadata": {
                "etag": "FF06109FA347791C64393E94550F6D79BAFB27762E99C4E3040C4DAA8375B7E2"
            }
        },
        {
            "csmallint": 32767,
            "_metadata": {
                "etag": "417AA0F0545CBCD4B47E272A52D2FEC21DCB6D0B6698754193A16D577BFA3224"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=ctinyint
{
    "items": [
        {
            "ctinyint": 0,
            "_metadata": {
                "etag": "2127236E4A901924DCED69640477D780F13B9A4F3B0FC07F8F3FC404AE81F989"
            }
        },
        {
            "ctinyint": -128,
            "_metadata": {
                "etag": "48549C3F3EEF8869709F212C94ED225EB1265AEFFE102B5D26B00F88ADBE27EC"
            }
        },
        {
            "ctinyint": 127,
            "_metadata": {
                "etag": "99BB890572D86D4F350F2EE905C8E064524BBE33AC8EAF77EF3A2E993DFE6BDE"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cmediumint
{
    "items": [
        {
            "cmediumint": 0,
            "_metadata": {
                "etag": "37997491D002577DCC40AD95244C5B39FD98A95CB9275721563DC67B60D0BF02"
            }
        },
        {
            "cmediumint": -8388608,
            "_metadata": {
                "etag": "2C0A27F2631C8D778C1CB5E770992CAB02DAAAE037D594C4DE559B0B8325A942"
            }
        },
        {
            "cmediumint": 8388607,
            "_metadata": {
                "etag": "E5D3E49BC127F4372A0AF58C0D3EF014561D1A4AB98A2D5FB35F80FD3550CC49"
            }
        }
    ]
}
OK
DROP SCHEMA basic_schema;
DROP SCHEMA mysql_rest_service_metadata;
DROP ROLE mysql_rest_service_admin;
DROP ROLE mysql_rest_service_schema_admin;
DROP ROLE mysql_rest_service_meta_provider;
DROP ROLE mysql_rest_service_data_provider;
