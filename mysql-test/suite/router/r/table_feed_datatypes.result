# MySQL Rest Service schema created.
# MySQL Rest Service, server accounts configured.
# mysqlrouter_keyring
#  * "set" root password ""
# mysqlrouter_keyring
#  * set rest-user jwt_secret "secret12345"
# Generating config into generated_router_1.cnf
#  * https
#  * MySQL Rest Service
# Connection "router.1" active
# restart:generated_router_1.cnf
# DB `basic_schema` - created 


## I. Verify JSON encoding of different times of data, returned in FEED response
#
# 1. Verify generation of JSON boolean from bit and bit(1)
# 2. Verify generation of JSON string with base64 data from bit(10) and binary, BLOB
# 3. Verify generation of JSON string from TEXT, VARCHAR(X), SET, ENUM
# 4. Verify generation of JSON string with date from DATE, TIME, YEAR, DATETIME,TIMESTAMP
# 5. Verify generation of JSON number/float from FLOAT, DOUBLE, DECIMAL
# 6. Verify generation of JSON number from INTEGER, BIGINT, SMALLINT, TINYINT, MEDIUMINT
#
#
# Registred SERVICE at path: /svc
# Registred DB_SCHEMA at path: /svc/basic
# Registred DB_OBJECT at path: /svc/basic/t3

#
# I.1
GET /svc/basic/t3?f=cbit
{
    "items": [
        {
            "cbit": false,
            "_metadata": {
                "etag": "6D46A5C5C68F661A4473F06A1D5EC2A59FA1829F8DFACE3B3689892383DCB234"
            }
        },
        {
            "cbit": false,
            "_metadata": {
                "etag": "6D46A5C5C68F661A4473F06A1D5EC2A59FA1829F8DFACE3B3689892383DCB234"
            }
        },
        {
            "cbit": true,
            "_metadata": {
                "etag": "431D082C87DFDE6F5ACFF819750EA7C2F187FC75A42C919F711611609C60C0A1"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cbit1
{
    "items": [
        {
            "cbit1": false,
            "_metadata": {
                "etag": "A656FB270056EF7289DD076A0012D09B342C9BD31733A279AFBFF8921455BC53"
            }
        },
        {
            "cbit1": false,
            "_metadata": {
                "etag": "A656FB270056EF7289DD076A0012D09B342C9BD31733A279AFBFF8921455BC53"
            }
        },
        {
            "cbit1": true,
            "_metadata": {
                "etag": "FF88D09B9FD622842AB96F91EC2E403FDF344B1777E73466A484719F0F6D04D1"
            }
        }
    ]
}
OK

#
# I.2
GET /svc/basic/t3?f=cbit10
{
    "items": [
        {
            "cbit10": "AAA=",
            "_metadata": {
                "etag": "BCC3018B893E855F1C0ED1D0AD9D515074F9D043269E81E74CC49E9DB30D1FC3"
            }
        },
        {
            "cbit10": "AAA=",
            "_metadata": {
                "etag": "BCC3018B893E855F1C0ED1D0AD9D515074F9D043269E81E74CC49E9DB30D1FC3"
            }
        },
        {
            "cbit10": "A/8=",
            "_metadata": {
                "etag": "4F195D56168E0DB2EB8463FAB2F2D26EFEA6A6AFE01F20F3CF6177B029BC2C7D"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cbin
{
    "items": [
        {
            "cbin": "MAAA",
            "_metadata": {
                "etag": "97962CEAA68C74EDB76CA0C2449EDF03294D1D0ABA0DE956B57EDE2A40FB5797"
            }
        },
        {
            "cbin": "MAAA",
            "_metadata": {
                "etag": "97962CEAA68C74EDB76CA0C2449EDF03294D1D0ABA0DE956B57EDE2A40FB5797"
            }
        },
        {
            "cbin": "BwAA",
            "_metadata": {
                "etag": "81056A7650E7866C84F68719E365049FFB0AA725A510690E9ED7D70BCF979E9E"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cblob
{
    "items": [
        {
            "cblob": "",
            "_metadata": {
                "etag": "A9D3089E1724FD1CA995422E970186016E1B9476DCD2325835154A964B5736EC"
            }
        },
        {
            "cblob": "MQ==",
            "_metadata": {
                "etag": "0D8A489C281F6ABB9D7760C07F6BF933F2FD43AA85480B961392E9FC6DB0953F"
            }
        },
        {
            "cblob": "ABGrAAASIzM=",
            "_metadata": {
                "etag": "645FB3CBC6F4AFAD7592D915E927DC92D9E6762C26C30CFC5DA6C3F16AF739F9"
            }
        }
    ]
}
OK

#
# I.3
GET /svc/basic/t3?f=cset
{
    "items": [
        {
            "cset": "",
            "_metadata": {
                "etag": "8DAE0E81A289AEC904BAB88F19656AD5312B2DBDBE016F9ABCBA6639D7F536A1"
            }
        },
        {
            "cset": "value1",
            "_metadata": {
                "etag": "7F34406C616F242722105CAC0BB4313B59711DB488B689FAB42C72C060D14A4B"
            }
        },
        {
            "cset": "value1,value2,value3",
            "_metadata": {
                "etag": "8353C8CDDEB1365FF058551CE9C2A7C06027B3B7D32D23F4629CD7C76FB14A51"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cenum
{
    "items": [
        {
            "cenum": "value1",
            "_metadata": {
                "etag": "8DE7F3DA04B605A0727CF97DFEFE9D9F20F0E5BFA7EBFEAF2026AF4E19D43B74"
            }
        },
        {
            "cenum": "value1",
            "_metadata": {
                "etag": "8DE7F3DA04B605A0727CF97DFEFE9D9F20F0E5BFA7EBFEAF2026AF4E19D43B74"
            }
        },
        {
            "cenum": "value3",
            "_metadata": {
                "etag": "646A0D6E14FA50633D0094055E088902559574C834476AC5F780B2E4D1BBE0A7"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cvarchar
{
    "items": [
        {
            "cvarchar": "first row",
            "_metadata": {
                "etag": "0C401F7BE6673628751CCD404BB7959394DDC3179B1D79D9A7F55CF7826C1AF0"
            }
        },
        {
            "cvarchar": "second row",
            "_metadata": {
                "etag": "815AE554972DCA335F3BC764BE43C18BCF25655A5292859335572663120EB4CA"
            }
        },
        {
            "cvarchar": "thrid row",
            "_metadata": {
                "etag": "56CECD4840D6A8B914E2451587928698B52C56CA8A78C79855D931966131B433"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=ctext
{
    "items": [
        {
            "ctext": "numeric zeros",
            "_metadata": {
                "etag": "E238A653B3D3D3BCB8A85076D1E49DF037F40808B97C4A1F4C66F796F398BFEC"
            }
        },
        {
            "ctext": "numeric min",
            "_metadata": {
                "etag": "B28B9C9EDFB6E88BBFBD7E8630BA925E823F5E8907BE105684CC5D02EE4E0EDF"
            }
        },
        {
            "ctext": "numeric max",
            "_metadata": {
                "etag": "086EA702FD73BF24BEAC03EBF3C031DE179EA250A74161C030787220E73DE0FA"
            }
        }
    ]
}
OK

#
# I.4
GET /svc/basic/t3?f=cdate
{
    "items": [
        {
            "cdate": "2020-12-01",
            "_metadata": {
                "etag": "C0101CE1D303355ED641C055934A71956ED44EB78EE47EF7AC1305E95B38D21B"
            }
        },
        {
            "cdate": "2020-12-02",
            "_metadata": {
                "etag": "2D660364AD2D54F4F174A1E5095C4EC36BB32A04542282A2E3BAB97B9AABBF2F"
            }
        },
        {
            "cdate": "2020-12-03",
            "_metadata": {
                "etag": "F6F9CD1D3D688D5841893BAF19E356AB579089DE5A89E592568C252139C561E5"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=ctime
{
    "items": [
        {
            "ctime": "12:01:50.000000",
            "_metadata": {
                "etag": "A82146BA0316C260E5BA8C26C2B5F4ADD22A0EC008B7DCC26ACA89FDC71AA2C4"
            }
        },
        {
            "ctime": "12:02:50.000000",
            "_metadata": {
                "etag": "04E0658891A11728C9721398A115D2063B862590634B1BB86DD00662DB4193DD"
            }
        },
        {
            "ctime": "12:03:50.000000",
            "_metadata": {
                "etag": "F3E0956F12F7B9D2469E7965931A841C993217D7971BCC4A978BBE94BDABB86C"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cyear
{
    "items": [
        {
            "cyear": 2020,
            "_metadata": {
                "etag": "EDF5F055E499676874252B45707675772FA0E1AEC64C22CD8CF1ECAF5C35C0EB"
            }
        },
        {
            "cyear": 2021,
            "_metadata": {
                "etag": "54B86CA2F323505D2AC512128E22241566A56099227AA2C5867C1628A628885C"
            }
        },
        {
            "cyear": 2022,
            "_metadata": {
                "etag": "5F12E3B39213578AA4D393FE331D8FCD9F36D225D5FB3A41353E360DA08193B8"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cdatetime
{
    "items": [
        {
            "cdatetime": "2020-12-01 12:01:50.000000",
            "_metadata": {
                "etag": "F5844E43BA8B3FAB551ECBA0431C5166FD54A9D643E66007896E5057BE65A57D"
            }
        },
        {
            "cdatetime": "2020-12-02 12:02:50.000000",
            "_metadata": {
                "etag": "1AB49031B55775AB80E639405AE49B3245297A8238DF53437F876FEF52E0077E"
            }
        },
        {
            "cdatetime": "2020-12-03 12:03:50.000000",
            "_metadata": {
                "etag": "7C03DDA2240B4AE2952490CDABE1FEFB66FBF056257E7AE7A13026D80EDCA6DD"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=ctimestamp
{
    "items": [
        {
            "ctimestamp": "2020-12-01 12:01:50.000000",
            "_metadata": {
                "etag": "F10FDC6F96AA3981D31684B77F31CDF99090C40903048B8E0F775ED711C3F4FE"
            }
        },
        {
            "ctimestamp": "2020-12-02 12:02:50.000000",
            "_metadata": {
                "etag": "000EF73E025D85FB8CBA96AEBF45859ED38699ED21D22BF81A88FF85E84F142D"
            }
        },
        {
            "ctimestamp": "2020-12-03 12:03:50.000000",
            "_metadata": {
                "etag": "4ABA9AEC27D8BB352254D09A2D0CDDFE9C05E04431F9DFF9901E368F1057AC57"
            }
        }
    ]
}
OK

#
# I.5
GET /svc/basic/t3?f=cfloat
{
    "items": [
        {
            "cfloat": 0.0,
            "_metadata": {
                "etag": "A29F5DED3008A2571912C2A3DE99530FD781660316F1EE628D1F06D405910C25"
            }
        },
        {
            "cfloat": -999.9998779296876,
            "_metadata": {
                "etag": "94D35086EE4EF93DA051A72B6C33D6607CA2079342F96CCA019D14B4EF14F3F2"
            }
        },
        {
            "cfloat": 999.9998779296876,
            "_metadata": {
                "etag": "FE830E53B3B2F64BA7F1556ED9EED431172E0AD54B4DABF3FC3D32C6D853312B"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cdouble
{
    "items": [
        {
            "cdouble": 0.0,
            "_metadata": {
                "etag": "3D546EC71974E1165AB43C813F3FAB5EA5B59D14A94F4AED4AE886DDBFC24C8B"
            }
        },
        {
            "cdouble": -999.9999,
            "_metadata": {
                "etag": "F8391991B6CF1EBBCE5512BFD595EEA280ABA05B5FA27821CA6D50ABAC66966B"
            }
        },
        {
            "cdouble": 999.9999,
            "_metadata": {
                "etag": "D9CFFB34523777DC4E5FD5E7FEFFE137E7A0E0FA58BC88C3D97E7669A786D778"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cdecimal
{
    "items": [
        {
            "cdecimal": 0.0,
            "_metadata": {
                "etag": "E2BA3A88EBF5FFCF35B0AA566FDE64FA9E76238E12E1C087C1EC1C00C13F95F1"
            }
        },
        {
            "cdecimal": -999.99,
            "_metadata": {
                "etag": "DBB0F18C55BEB98FFE61D3C0E51105027B466B813590AF40B6C776946B07FBDA"
            }
        },
        {
            "cdecimal": 999.99,
            "_metadata": {
                "etag": "D031E02B8AE8663FA4286C42BC455878EB5584605B326757A90AF5CCF9864F4C"
            }
        }
    ]
}
OK

#
# I.6
GET /svc/basic/t3?f=id
{
    "items": [
        {
            "id": 1,
            "_metadata": {
                "etag": "763AF95BE227B2068D8C387FB7A37003FF458C00373FFFE4AED008BD798378C6"
            }
        },
        {
            "id": 2,
            "_metadata": {
                "etag": "48BAB797FE1519AC78812CAB18BAA9B3797835E7851499C762028AFFCC255E7D"
            }
        },
        {
            "id": 3,
            "_metadata": {
                "etag": "70485AB68EBA16518FB4F096C3BF72294B095BD75C99266928162A3F62D89B32"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cbigint
{
    "items": [
        {
            "cbigint": 0,
            "_metadata": {
                "etag": "92BA7C0A0FAA96DF7B7C739A367317F863D54A8B9A131546E1EC1EF843E1B378"
            }
        },
        {
            "cbigint": -9223372036854775808,
            "_metadata": {
                "etag": "15DB94E64B4D78CD56DEE529D598EE39151AE794C6BB67601292F73F370110D0"
            }
        },
        {
            "cbigint": 9223372036854775807,
            "_metadata": {
                "etag": "59C0155171EB3B5E146EC235657A6D58F94B83922EABC00628A261BBCEFA0700"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=csmallint
{
    "items": [
        {
            "csmallint": 0,
            "_metadata": {
                "etag": "1EEDDE885376E624DE9D7E06BA121D22B5E33418D873130FE27B040A6A1B8A5E"
            }
        },
        {
            "csmallint": -32768,
            "_metadata": {
                "etag": "0BC2E1D6B78ED8BD623013D0198AF5B1CC8F527FD36023BD6AA069A84DB882D6"
            }
        },
        {
            "csmallint": 32767,
            "_metadata": {
                "etag": "19AC47EDD015ED53EB4909BC887F0751F037FE13BC29E4855F3D3F31F4D90E2C"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=ctinyint
{
    "items": [
        {
            "ctinyint": 0,
            "_metadata": {
                "etag": "FB7E45B047960D41618277D457A046A072E9A001CD68E09E9706DFFEDFF8CC38"
            }
        },
        {
            "ctinyint": -128,
            "_metadata": {
                "etag": "A808DEFC4980CE9E825CDA43E2C9D4DA7DC1587394AEDCD3B3E27AF5DD7933D5"
            }
        },
        {
            "ctinyint": 127,
            "_metadata": {
                "etag": "ABF93F4F5DF1307D9A0F08113F03B89E06A32CD9153AB0126115C4A755565572"
            }
        }
    ]
}
OK
GET /svc/basic/t3?f=cmediumint
{
    "items": [
        {
            "cmediumint": 0,
            "_metadata": {
                "etag": "3C2E19C4ED7DF93F1ABA5CB6A72FC70C8EBB8696A2076163443769841A46DA95"
            }
        },
        {
            "cmediumint": -8388608,
            "_metadata": {
                "etag": "B9ECB790A925D13D12F51F8E9C7629F7232EB82528BDF06D44B463C17EF1CF0E"
            }
        },
        {
            "cmediumint": 8388607,
            "_metadata": {
                "etag": "C49F659D753820DC7A3B85CE21743FDFBC4815109435AFEF2564C6968982E147"
            }
        }
    ]
}
OK
DROP SCHEMA basic_schema;
DROP SCHEMA mysql_rest_service_metadata;
DROP ROLE mysql_rest_service_admin;
DROP ROLE mysql_rest_service_schema_admin;
DROP ROLE mysql_rest_service_meta_provider;
DROP ROLE mysql_rest_service_data_provider;
