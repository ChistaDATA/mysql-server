# MySQL Rest Service schema created.
# MySQL Rest Service, server accounts configured.
# mysqlrouter_keyring
#  * "set" root password ""
# mysqlrouter_keyring
#  * set rest-user jwt_secret "secret12345"
# Generating config into generated_router_1.cnf
#  * https
#  * MySQL Rest Service
# Connection "router.1" active
# restart:generated_router_1.cnf
# DB `basic_schema` - created 


## I. Verify JSON encoding of different times of data, returned in FEED response
#
# 1. Verify generation of JSON boolean from bit and bit(1)
# 2. Verify generation of JSON string with base64 data from bit(10) and binary
# 3. Verify generation of JSON string from TEXT, VARCHAR(X), SET, ENUM
# 4. Verify generation of JSON string with date from DATE, TIME, YEAR, DATETIME,TIMESTAMP
# 5. Verify generation of JSON number/float from FLOAT, DOUBLE, DECIMAL
# 6. Verify generation of JSON number from INTEGER, BIGINT, SMALLINT, TINYINT, MEDIUMINT
#
#
# Registred SERVICE at path: /svc
# Registred DB_SCHEMA at path: /svc/basic
# Registred DB_OBJECT at path: /svc/basic/int
# Registred DB_OBJECT at path: /svc/basic/varchar
# Registred DB_OBJECT at path: /svc/basic/text
# Registred DB_OBJECT at path: /svc/basic/datetime
# Registred DB_OBJECT at path: /svc/basic/timestamp
# Registred DB_OBJECT at path: /svc/basic/date
# Registred DB_OBJECT at path: /svc/basic/time
# Registred DB_OBJECT at path: /svc/basic/year
# Registred DB_OBJECT at path: /svc/basic/smallint
# Registred DB_OBJECT at path: /svc/basic/bigint
# Registred DB_OBJECT at path: /svc/basic/bin
# Registred DB_OBJECT at path: /svc/basic/float
# Registred DB_OBJECT at path: /svc/basic/double
# Registred DB_OBJECT at path: /svc/basic/decimal
# Registred DB_OBJECT at path: /svc/basic/set
# Registred DB_OBJECT at path: /svc/basic/enum
# Registred DB_OBJECT at path: /svc/basic/bit
# Registred DB_OBJECT at path: /svc/basic/bit1
# Registred DB_OBJECT at path: /svc/basic/bit10
# Registred DB_OBJECT at path: /svc/basic/tinyint
# Registred DB_OBJECT at path: /svc/basic/mediumint
# Registred DB_OBJECT at path: /svc/basic/blob

#
# I.1
GET /svc/basic/bit
{
    "items": [
        {
            "cbit": false
        },
        {
            "cbit": false
        },
        {
            "cbit": true
        }
    ]
}
OK
GET /svc/basic/bit1
{
    "items": [
        {
            "cbit": false
        },
        {
            "cbit": false
        },
        {
            "cbit": true
        }
    ]
}
OK

#
# I.2
GET /svc/basic/bit10
{
    "items": [
        {
            "cbit10": ""
        },
        {
            "cbit10": "AAA="
        },
        {
            "cbit10": "A/8="
        }
    ]
}
OK
GET /svc/basic/bin
{
    "items": [
        {
            "cbin": "MA=="
        },
        {
            "cbin": "MAAA"
        },
        {
            "cbin": "BwAA"
        }
    ]
}
OK
GET /svc/basic/blob
{
    "items": [
        {
            "cblob": ""
        },
        {
            "cblob": "MQ=="
        },
        {
            "cblob": "ABGrAAASIzM="
        }
    ]
}
OK

#
# I.3
GET /svc/basic/set
{
    "items": [
        {
            "cset": ""
        },
        {
            "cset": "value1"
        },
        {
            "cset": "value1,value2,value3"
        }
    ]
}
OK
GET /svc/basic/enum
{
    "items": [
        {
            "cenum": "value1"
        },
        {
            "cenum": "value1"
        },
        {
            "cenum": "value3"
        }
    ]
}
OK
GET /svc/basic/varchar
{
    "items": [
        {
            "cvarchar": "first row"
        },
        {
            "cvarchar": "second row"
        },
        {
            "cvarchar": "thrid row"
        }
    ]
}
OK
GET /svc/basic/text
{
    "items": [
        {
            "ctext": "numeric zeros"
        },
        {
            "ctext": "numeric min"
        },
        {
            "ctext": "numeric max"
        }
    ]
}
OK

#
# I.4
GET /svc/basic/date
{
    "items": [
        {
            "cdate": "2020-12-01"
        },
        {
            "cdate": "2020-12-02"
        },
        {
            "cdate": "2020-12-03"
        }
    ]
}
OK
GET /svc/basic/time
{
    "items": [
        {
            "ctime": "12:01:50"
        },
        {
            "ctime": "12:02:50"
        },
        {
            "ctime": "12:03:50"
        }
    ]
}
OK
GET /svc/basic/year
{
    "items": [
        {
            "cyear": "2020"
        },
        {
            "cyear": "2021"
        },
        {
            "cyear": "2022"
        }
    ]
}
OK
GET /svc/basic/datetime
{
    "items": [
        {
            "cdatetime": "2020-12-01 12:01:50"
        },
        {
            "cdatetime": "2020-12-02 12:02:50"
        },
        {
            "cdatetime": "2020-12-03 12:03:50"
        }
    ]
}
OK
GET /svc/basic/timestamp
{
    "items": [
        {
            "ctimestamp": "2020-12-01 12:01:50"
        },
        {
            "ctimestamp": "2020-12-02 12:02:50"
        },
        {
            "ctimestamp": "2020-12-03 12:03:50"
        }
    ]
}
OK

#
# I.5
GET /svc/basic/float
{
    "items": [
        {
            "cfloat": 0
        },
        {
            "cfloat": -1000
        },
        {
            "cfloat": 1000
        }
    ]
}
OK
GET /svc/basic/double
{
    "items": [
        {
            "cdouble": 0
        },
        {
            "cdouble": -999.9999
        },
        {
            "cdouble": 999.9999
        }
    ]
}
OK
GET /svc/basic/decimal
{
    "items": [
        {
            "cdecimal": 0.0
        },
        {
            "cdecimal": -999.99
        },
        {
            "cdecimal": 999.99
        }
    ]
}
OK

#
# I.6
GET /svc/basic/int
{
    "items": [
        {
            "id": 1
        },
        {
            "id": 2
        },
        {
            "id": 3
        }
    ]
}
OK
GET /svc/basic/bigint
{
    "items": [
        {
            "cbigint": 0
        },
        {
            "cbigint": -9223372036854775808
        },
        {
            "cbigint": 9223372036854775807
        }
    ]
}
OK
GET /svc/basic/smallint
{
    "items": [
        {
            "csmallint": 0
        },
        {
            "csmallint": -32768
        },
        {
            "csmallint": 32767
        }
    ]
}
OK
GET /svc/basic/tinyint
{
    "items": [
        {
            "ctinyint": 0
        },
        {
            "ctinyint": -128
        },
        {
            "ctinyint": 127
        }
    ]
}
OK
GET /svc/basic/mediumint
{
    "items": [
        {
            "cmediumint": 0
        },
        {
            "cmediumint": -8388608
        },
        {
            "cmediumint": 8388607
        }
    ]
}
OK
DROP SCHEMA basic_schema;
DROP SCHEMA mysql_rest_service_metadata;
DROP ROLE mysql_rest_service_admin;
DROP ROLE mysql_rest_service_schema_admin;
DROP ROLE mysql_rest_service_meta_provider;
DROP ROLE mysql_rest_service_data_provider;
