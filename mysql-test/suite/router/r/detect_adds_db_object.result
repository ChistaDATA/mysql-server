# MySQL Rest Service schema created.
# MySQL Rest Service, server accounts configured.
# mysqlrouter_keyring
#  * "set" root password ""
# mysqlrouter_keyring
#  * set rest-user jwt_secret "secret12345"
# Generating config into generated_router_1.cnf
#  * https
#  * MySQL Rest Service
# Connection "router.1" active
# restart:generated_router_1.cnf
# DB `basic_schema` - created 


## I. Verify that router detect addition of
#
# 1. SERVICE, SCHEMA, DB_OBJECT (only when there is
#    at lest one db-object assigned to the schema)
# 2. Addition of new fields to DB_OBJECT
#
#

#
# I.1
# Registred SERVICE at path: /svc
# Registred DB_SCHEMA at path: /svc/basic
# Registred DB_OBJECT at path: /svc/basic/t
GET /svc/basic/t/1
{
    "id": 1,
    "date": "1977-01-21 00:00:00.000000",
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t/1"
        }
    ],
    "comments": "First comment",
    "_metadata": {
        "etag": "560824FD9225DDB8BC4F2C66954CE4F5739DDDF38CE9753C651ACF4B8F89F610"
    }
}
OK

#
# I.2
GET /svc/basic/t/1
{
    "id": 1,
    "date": "1977-01-21 00:00:00.000000",
    "name": "First row",
    "links": [
        {
            "rel": "self",
            "href": "/svc/basic/t/1"
        }
    ],
    "comments": "First comment",
    "_metadata": {
        "etag": "9A2E43465461EFB43E9B0677C9EB126B86A831270913B7B3764A66985D92D012"
    }
}
OK
DROP SCHEMA basic_schema;
DROP SCHEMA mysql_rest_service_metadata;
DROP ROLE mysql_rest_service_admin;
DROP ROLE mysql_rest_service_schema_admin;
DROP ROLE mysql_rest_service_meta_provider;
DROP ROLE mysql_rest_service_data_provider;
